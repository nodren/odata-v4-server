{"version":3,"file":"batch.js","sourceRoot":"","sources":["../../src/middlewares/batch.ts"],"names":[],"mappings":"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"}